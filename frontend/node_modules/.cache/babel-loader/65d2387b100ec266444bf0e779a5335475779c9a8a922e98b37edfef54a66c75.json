{"ast":null,"code":"const API_BASE = 'https://api.arasaac.org/api'; // base pública\n// Buscar pictos por idioma + término\nconst SEARCH_URL = (lang, term) => `${API_BASE}/pictograms/${lang}/search/${encodeURIComponent(term)}`;\n_c = SEARCH_URL;\nconst STATIC_PNG = (id, size = 500) => `https://static.arasaac.org/pictograms/${id}/${id}_${size}.png`;\n\n// SVG directo (algunas instalaciones lo sirven así; si no, coméntalo)\n_c2 = STATIC_PNG;\nconst SVG_URL = (lang, id) => `${API_BASE}/pictograms/${lang}/${id}?download=false`;\n_c3 = SVG_URL;\nexport async function searchPictos({\n  lang = 'es',\n  term\n}) {\n  if (!term) return [];\n  const res = await fetch(SEARCH_URL(lang, term));\n  if (!res.ok) throw new Error(`ARASAAC ${res.status}`);\n  const json = await res.json();\n  return json.map(p => {\n    var _ref, _p$_id, _p$keywords$map, _p$keywords;\n    return {\n      id: (_ref = (_p$_id = p._id) !== null && _p$_id !== void 0 ? _p$_id : p.id) !== null && _ref !== void 0 ? _ref : p.identifier,\n      keywords: (_p$keywords$map = (_p$keywords = p.keywords) === null || _p$keywords === void 0 ? void 0 : _p$keywords.map(k => k.keyword)) !== null && _p$keywords$map !== void 0 ? _p$keywords$map : []\n    };\n  }).filter(p => p.id);\n}\nexport function pictoImageUrl(id, opts = {\n  size: 500,\n  prefer: 'png',\n  lang: 'es'\n}) {\n  const {\n    size = 500,\n    prefer = 'png',\n    lang = 'es'\n  } = opts;\n  if (prefer === 'svg') return SVG_URL(lang, id);\n  return STATIC_PNG(id, size);\n}\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SEARCH_URL\");\n$RefreshReg$(_c2, \"STATIC_PNG\");\n$RefreshReg$(_c3, \"SVG_URL\");","map":{"version":3,"names":["API_BASE","SEARCH_URL","lang","term","encodeURIComponent","_c","STATIC_PNG","id","size","_c2","SVG_URL","_c3","searchPictos","res","fetch","ok","Error","status","json","map","p","_ref","_p$_id","_p$keywords$map","_p$keywords","_id","identifier","keywords","k","keyword","filter","pictoImageUrl","opts","prefer","$RefreshReg$"],"sources":["C:/Users/Acer/Desktop/Soft2avance/Trabajo_SoftII/frontend/src/api/arasaac.js"],"sourcesContent":["const API_BASE = 'https://api.arasaac.org/api'; // base pública\r\n// Buscar pictos por idioma + término\r\nconst SEARCH_URL = (lang, term) => `${API_BASE}/pictograms/${lang}/search/${encodeURIComponent(term)}`;\r\n\r\nconst STATIC_PNG = (id, size = 500) =>\r\n  `https://static.arasaac.org/pictograms/${id}/${id}_${size}.png`;\r\n\r\n// SVG directo (algunas instalaciones lo sirven así; si no, coméntalo)\r\nconst SVG_URL = (lang, id) => `${API_BASE}/pictograms/${lang}/${id}?download=false`;\r\n\r\nexport async function searchPictos({ lang = 'es', term }) {\r\n  if (!term) return [];\r\n  const res = await fetch(SEARCH_URL(lang, term));\r\n  if (!res.ok) throw new Error(`ARASAAC ${res.status}`);\r\n  const json = await res.json();\r\n  \r\n  return json.map((p) => ({\r\n    id: p._id ?? p.id ?? p.identifier,\r\n    keywords: p.keywords?.map(k => k.keyword) ?? [],\r\n  })).filter(p => p.id);\r\n}\r\n\r\nexport function pictoImageUrl(id, opts = { size: 500, prefer: 'png', lang: 'es' }) {\r\n  const { size = 500, prefer = 'png', lang = 'es' } = opts;\r\n  if (prefer === 'svg') return SVG_URL(lang, id);  \r\n  return STATIC_PNG(id, size);\r\n}\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,6BAA6B,CAAC,CAAC;AAChD;AACA,MAAMC,UAAU,GAAGA,CAACC,IAAI,EAAEC,IAAI,KAAK,GAAGH,QAAQ,eAAeE,IAAI,WAAWE,kBAAkB,CAACD,IAAI,CAAC,EAAE;AAACE,EAAA,GAAjGJ,UAAU;AAEhB,MAAMK,UAAU,GAAGA,CAACC,EAAE,EAAEC,IAAI,GAAG,GAAG,KAChC,yCAAyCD,EAAE,IAAIA,EAAE,IAAIC,IAAI,MAAM;;AAEjE;AAAAC,GAAA,GAHMH,UAAU;AAIhB,MAAMI,OAAO,GAAGA,CAACR,IAAI,EAAEK,EAAE,KAAK,GAAGP,QAAQ,eAAeE,IAAI,IAAIK,EAAE,iBAAiB;AAACI,GAAA,GAA9ED,OAAO;AAEb,OAAO,eAAeE,YAAYA,CAAC;EAAEV,IAAI,GAAG,IAAI;EAAEC;AAAK,CAAC,EAAE;EACxD,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;EACpB,MAAMU,GAAG,GAAG,MAAMC,KAAK,CAACb,UAAU,CAACC,IAAI,EAAEC,IAAI,CAAC,CAAC;EAC/C,IAAI,CAACU,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,WAAWH,GAAG,CAACI,MAAM,EAAE,CAAC;EACrD,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACK,IAAI,CAAC,CAAC;EAE7B,OAAOA,IAAI,CAACC,GAAG,CAAEC,CAAC;IAAA,IAAAC,IAAA,EAAAC,MAAA,EAAAC,eAAA,EAAAC,WAAA;IAAA,OAAM;MACtBjB,EAAE,GAAAc,IAAA,IAAAC,MAAA,GAAEF,CAAC,CAACK,GAAG,cAAAH,MAAA,cAAAA,MAAA,GAAIF,CAAC,CAACb,EAAE,cAAAc,IAAA,cAAAA,IAAA,GAAID,CAAC,CAACM,UAAU;MACjCC,QAAQ,GAAAJ,eAAA,IAAAC,WAAA,GAAEJ,CAAC,CAACO,QAAQ,cAAAH,WAAA,uBAAVA,WAAA,CAAYL,GAAG,CAACS,CAAC,IAAIA,CAAC,CAACC,OAAO,CAAC,cAAAN,eAAA,cAAAA,eAAA,GAAI;IAC/C,CAAC;EAAA,CAAC,CAAC,CAACO,MAAM,CAACV,CAAC,IAAIA,CAAC,CAACb,EAAE,CAAC;AACvB;AAEA,OAAO,SAASwB,aAAaA,CAACxB,EAAE,EAAEyB,IAAI,GAAG;EAAExB,IAAI,EAAE,GAAG;EAAEyB,MAAM,EAAE,KAAK;EAAE/B,IAAI,EAAE;AAAK,CAAC,EAAE;EACjF,MAAM;IAAEM,IAAI,GAAG,GAAG;IAAEyB,MAAM,GAAG,KAAK;IAAE/B,IAAI,GAAG;EAAK,CAAC,GAAG8B,IAAI;EACxD,IAAIC,MAAM,KAAK,KAAK,EAAE,OAAOvB,OAAO,CAACR,IAAI,EAAEK,EAAE,CAAC;EAC9C,OAAOD,UAAU,CAACC,EAAE,EAAEC,IAAI,CAAC;AAC7B;AAAC,IAAAH,EAAA,EAAAI,GAAA,EAAAE,GAAA;AAAAuB,YAAA,CAAA7B,EAAA;AAAA6B,YAAA,CAAAzB,GAAA;AAAAyB,YAAA,CAAAvB,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
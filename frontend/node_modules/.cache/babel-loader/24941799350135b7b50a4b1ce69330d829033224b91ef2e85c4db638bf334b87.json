{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { searchPictos } from '../api/arasaac';\nexport default function useArasaacSearch(term, lang = 'es') {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setL] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    let alive = true;\n    async function run() {\n      if (!term) {\n        setData([]);\n        return;\n      }\n      setL(true);\n      setError(null);\n      try {\n        const res = await searchPictos({\n          lang,\n          term\n        });\n        if (alive) setData(res);\n      } catch (e) {\n        if (alive) setError(e);\n      } finally {\n        if (alive) setL(false);\n      }\n    }\n    run();\n    return () => {\n      alive = false;\n    };\n  }, [term, lang]);\n  return {\n    data,\n    loading,\n    error\n  };\n}\n_s(useArasaacSearch, \"tkBaHHcPB2PGcD/yuq+ZBo2Vs6E=\");","map":{"version":3,"names":["useEffect","useState","searchPictos","useArasaacSearch","term","lang","_s","data","setData","loading","setL","error","setError","alive","run","res","e"],"sources":["C:/Users/alvar/Desktop/softIIa/Trabajo_SoftII/frontend/src/hooks/useArasaacSearch.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { searchPictos } from '../api/arasaac';\r\n\r\nexport default function useArasaacSearch(term, lang = 'es') {\r\n  const [data, setData]   = useState([]);\r\n  const [loading, setL]   = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let alive = true;\r\n    async function run() {\r\n      if (!term) { setData([]); return; }\r\n      setL(true); setError(null);\r\n      try {\r\n        const res = await searchPictos({ lang, term });\r\n        if (alive) setData(res);\r\n      } catch (e) {\r\n        if (alive) setError(e);\r\n      } finally {\r\n        if (alive) setL(false);\r\n      }\r\n    }\r\n    run();\r\n    return () => { alive = false; };\r\n  }, [term, lang]);\r\n\r\n  return { data, loading, error };\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,YAAY,QAAQ,gBAAgB;AAE7C,eAAe,SAASC,gBAAgBA,CAACC,IAAI,EAAEC,IAAI,GAAG,IAAI,EAAE;EAAAC,EAAA;EAC1D,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAKP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,OAAO,EAAEC,IAAI,CAAC,GAAKT,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACd,IAAIa,KAAK,GAAG,IAAI;IAChB,eAAeC,GAAGA,CAAA,EAAG;MACnB,IAAI,CAACV,IAAI,EAAE;QAAEI,OAAO,CAAC,EAAE,CAAC;QAAE;MAAQ;MAClCE,IAAI,CAAC,IAAI,CAAC;MAAEE,QAAQ,CAAC,IAAI,CAAC;MAC1B,IAAI;QACF,MAAMG,GAAG,GAAG,MAAMb,YAAY,CAAC;UAAEG,IAAI;UAAED;QAAK,CAAC,CAAC;QAC9C,IAAIS,KAAK,EAAEL,OAAO,CAACO,GAAG,CAAC;MACzB,CAAC,CAAC,OAAOC,CAAC,EAAE;QACV,IAAIH,KAAK,EAAED,QAAQ,CAACI,CAAC,CAAC;MACxB,CAAC,SAAS;QACR,IAAIH,KAAK,EAAEH,IAAI,CAAC,KAAK,CAAC;MACxB;IACF;IACAI,GAAG,CAAC,CAAC;IACL,OAAO,MAAM;MAAED,KAAK,GAAG,KAAK;IAAE,CAAC;EACjC,CAAC,EAAE,CAACT,IAAI,EAAEC,IAAI,CAAC,CAAC;EAEhB,OAAO;IAAEE,IAAI;IAAEE,OAAO;IAAEE;EAAM,CAAC;AACjC;AAACL,EAAA,CAxBuBH,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}